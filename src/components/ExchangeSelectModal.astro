---
export interface Props {
  id?: string;
}

const { id = "exchange-modal" } = Astro.props;

const ASTER_IS_READY = true;
---

<div id={id} class="fixed inset-0 z-50 hidden">
  <!-- Backdrop -->
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm" data-modal-backdrop>
  </div>

  <!-- Modal -->
  <div class="fixed inset-0 flex items-center justify-center p-4">
    <div
      class="bg-aden-dark border border-aden-border rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative"
    >
      <!-- Close button -->
      <button
        class="absolute top-4 right-4 text-white/60 hover:text-white transition-colors"
        data-modal-close
        aria-label="닫기"
        data-lang-ko="닫기"
        data-lang-en="X"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18 6L6 18M6 6L18 18"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
      </button>

      <!-- Modal content -->
      <div class="p-6 md:p-8">
        <div
          data-slot="dialog-header"
          class="flex flex-col gap-2 text-center mb-8"
        >
          <h2
            data-slot="dialog-title"
            class="text-white font-pretendard text-2xl md:text-3xl font-bold"
            data-lang-ko="ADEN 거래 시작"
            data-lang-en="Start Trading ADEN"
          >
            ADEN 거래 시작
          </h2>
          <p
            data-slot="dialog-description"
            class="text-white/80 font-pretendard text-sm md:text-base"
            data-lang-ko="거래를 위한 프로토콜을 선택하세요."
            data-lang-en="Select a protocol for trading."
          >
            거래를 위한 프로토콜을 선택하세요.
          </p>
          <p
            class="text-white/50 font-pretendard text-xs mt-1"
            data-lang-ko="거래소 순서는 무작위로 표시됩니다"
            data-lang-en="Exchange order is displayed randomly"
          >
            거래소 순서는 무작위로 표시됩니다
          </p>
        </div>

        <!-- Exchange Options Container -->
        <div
          id="exchange-options"
          class="flex flex-col sm:flex-row gap-3 md:gap-4"
        >
          <!-- Aster Option -->
          {ASTER_IS_READY ? (
            <a
              href="http://www.asterbroker.com"
              target="_blank"
              rel="noopener noreferrer"
              id="aster-option"
              class="border border-aden-border p-4 md:p-6 rounded-2xl block transition-all hover:border-aden-primary/60 hover:bg-aden-primary/5 group relative sm:flex-1"
            >
              <div class="flex flex-col items-center gap-3 md:gap-4">
                <!-- Aster Logo -->
                <div class="h-10 md:h-12 flex items-center justify-center">
                  <svg
                    class="w-20 md:w-24 h-auto"
                    viewBox="0 0 98 26"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.39704 24.7323L8.00453 21.927C8.6821 18.7981 6.29728 15.8428 3.09484 15.8428H0.312112C1.18968 19.7742 3.84814 23.034 7.39704 24.7323Z"
                      fill="url(#paint0_linear_aster)"></path>
                    <path
                      d="M8.61749 25.2414C9.98837 25.7325 11.4657 26 13.0056 26C19.2112 26 24.4016 21.6553 25.6991 15.8428H17.2099C13.3834 15.8428 10.075 18.5107 9.26542 22.2493L8.61749 25.2414Z"
                      fill="url(#paint1_linear_aster)"></path>
                    <path
                      d="M25.9205 14.5427C25.9804 14.0364 26.0112 13.5212 26.0112 12.9988C26.0112 6.17827 20.7574 0.58442 14.0747 0.0408891L12.2518 8.4585C11.5743 11.5874 13.9591 14.5427 17.1615 14.5427H25.9205Z"
                      fill="url(#paint2_linear_aster)"></path>
                    <path
                      d="M12.7528 0C5.6867 0.134645 0 5.90284 0 12.9988C0 13.5212 0.0308205 14.0364 0.0907436 14.5427H3.04647C6.87298 14.5427 10.1814 11.8748 10.991 8.13616L12.7528 0Z"
                      fill="url(#paint3_linear_aster)"></path>
                    <path
                      d="M53.0931 5.67583C53.7446 5.67586 54.349 5.74373 54.9056 5.87895C55.4756 6.0142 56.0048 6.20392 56.4934 6.44731C56.9822 6.69077 57.4309 6.98125 57.8382 7.31938L56.9827 8.80083C56.8198 8.61147 56.6019 8.4288 56.3304 8.25298C56.0589 8.07719 55.7537 7.92141 55.4143 7.78618C55.075 7.63742 54.7015 7.5226 54.2942 7.44145C53.9006 7.34679 53.4864 7.29889 53.052 7.29887C51.9387 7.29887 51.1167 7.5085 50.5872 7.92778C50.0578 8.34703 49.7933 8.92216 49.7933 9.65239C49.7933 10.1664 49.9289 10.5726 50.2005 10.8702C50.4719 11.1676 50.8863 11.4103 51.4427 11.5997C52.0129 11.789 52.7329 11.9856 53.6018 12.1885C54.6064 12.4049 55.4752 12.6685 56.2083 12.9795C56.9414 13.2906 57.505 13.7099 57.8987 14.2374C58.2924 14.7513 58.4895 15.4412 58.4895 16.3067C58.4895 16.9964 58.3538 17.5984 58.0823 18.1124C57.8244 18.6127 57.4577 19.0321 56.9827 19.3702C56.5076 19.6947 55.9507 19.9383 55.3128 20.1006C54.6748 20.2494 53.9822 20.3242 53.2356 20.3243C52.5025 20.3243 51.7824 20.2494 51.0765 20.1006C50.384 19.9383 49.7254 19.7087 49.1009 19.4112C48.4764 19.1136 47.8929 18.7413 47.3499 18.295L48.2249 16.753C48.4421 16.9829 48.7205 17.2135 49.0599 17.4434C49.4128 17.6598 49.807 17.8624 50.2415 18.0518C50.6895 18.2411 51.1719 18.3969 51.6878 18.5186C52.2035 18.6267 52.7328 18.6807 53.2757 18.6807C54.3075 18.6807 55.1088 18.498 55.679 18.1329C56.2492 17.7542 56.5345 17.2061 56.5345 16.4893C56.5344 15.9484 56.371 15.516 56.0452 15.1915C55.7329 14.8668 55.2645 14.5963 54.6399 14.3799C54.0155 14.1636 53.2555 13.9469 52.3597 13.7305C51.3821 13.4871 50.5601 13.2235 49.8948 12.9395C49.2297 12.642 48.7274 12.2556 48.388 11.7823C48.0623 11.309 47.8997 10.6937 47.8997 9.93657C47.8997 9.01689 48.1236 8.23924 48.5716 7.60356C49.0196 6.96787 49.6376 6.48774 50.4251 6.16313C51.2125 5.83859 52.102 5.67583 53.0931 5.67583ZM46.3518 20.1817H44.3968L42.6858 15.962H36.6175L34.927 20.1817H32.972L38.8987 5.77739H40.4456L46.3518 20.1817ZM71.7347 7.40044H66.7454V20.1817H64.9124V7.40044H59.9222V5.77739H71.7347V7.40044ZM83.8567 7.40044H76.0569V12.0665H82.8391V13.5879H76.0569V18.5586H84.0403V20.1817H74.2239V5.77739H83.8567V7.40044ZM93.1526 5.77739C93.7907 5.77739 94.3751 5.91313 94.9046 6.18364C95.434 6.44061 95.8957 6.79205 96.2893 7.23833C96.6829 7.67098 96.9882 8.1645 97.2054 8.7188C97.4226 9.2598 97.5315 9.8148 97.5315 10.3829C97.5315 11.0456 97.4027 11.6745 97.1448 12.2696C96.9004 12.8647 96.5469 13.3718 96.0852 13.7911C95.6372 14.2103 95.1082 14.5018 94.4974 14.6641L98.0003 20.1817H95.9231L92.6233 15.0088H88.7952V20.1817H86.9622V5.77739H93.1526ZM36.9837 14.542H42.2786L39.6722 7.88774L36.9837 14.542ZM88.7952 13.3858H93.1731C93.6755 13.3858 94.1103 13.25 94.4768 12.9795C94.8569 12.6956 95.1492 12.324 95.3528 11.8643C95.57 11.4044 95.678 10.9103 95.678 10.3829C95.678 9.84185 95.5562 9.34775 95.3118 8.90141C95.0675 8.44182 94.7483 8.07711 94.3548 7.80669C93.961 7.53618 93.5263 7.40044 93.0511 7.40044H88.7952V13.3858Z"
                      fill="white"></path>
                    <defs>
                      <linearGradient
                        id="paint0_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint1_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint2_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint3_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                    </defs>
                  </svg>
                </div>
                <!-- 추천 박스 -->
                <div
                  class="py-0.5 px-2 md:py-1 md:px-2.5 rounded-lg whitespace-nowrap bg-aden-primary/60 flex gap-1 items-center text-[9px] md:text-[10px]"
                >
                  <svg
                    class="w-2 h-2 md:w-2.5 md:h-2.5"
                    viewBox="0 0 10 11"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.54404 0.851523C5.44367 0.636703 5.23157 0.5 4.99864 0.5C4.76571 0.5 4.55551 0.636703 4.45324 0.851523L3.23557 3.43522L0.516165 3.84923C0.288917 3.88439 0.0995432 4.04843 0.029475 4.27302C-0.0405933 4.4976 0.0162188 4.74562 0.17908 4.91162L2.15235 6.92506L1.68649 9.77045C1.64862 10.0048 1.74331 10.243 1.93079 10.3817C2.11827 10.5204 2.36635 10.5379 2.57087 10.4266L5.00053 9.08888L7.4302 10.4266C7.63472 10.5379 7.8828 10.5223 8.07028 10.3817C8.25776 10.2411 8.35245 10.0048 8.31457 9.77045L7.84682 6.92506L9.82009 4.91162C9.98295 4.74562 10.0417 4.4976 9.9697 4.27302C9.89774 4.04843 9.71026 3.88439 9.48301 3.84923L6.76171 3.43522L5.54404 0.851523Z"
                      fill="white"></path>
                  </svg>
                  <span data-lang-ko="추천" data-lang-en="Recommended">추천</span>
                </div>
              </div>
            </a>
          ) : (
            <button
              id="aster-option"
              class="border border-aden-border p-4 md:p-6 rounded-2xl block transition-all hover:border-aden-primary/60 hover:bg-aden-primary/5 group relative sm:flex-1 cursor-pointer"
              onclick="showAsterComingSoon()"
            >
              <div class="flex flex-col items-center gap-3 md:gap-4">
                <!-- Aster Logo -->
                <div class="h-10 md:h-12 flex items-center justify-center">
                  <svg
                    class="w-20 md:w-24 h-auto"
                    viewBox="0 0 98 26"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.39704 24.7323L8.00453 21.927C8.6821 18.7981 6.29728 15.8428 3.09484 15.8428H0.312112C1.18968 19.7742 3.84814 23.034 7.39704 24.7323Z"
                      fill="url(#paint0_linear_aster)"></path>
                    <path
                      d="M8.61749 25.2414C9.98837 25.7325 11.4657 26 13.0056 26C19.2112 26 24.4016 21.6553 25.6991 15.8428H17.2099C13.3834 15.8428 10.075 18.5107 9.26542 22.2493L8.61749 25.2414Z"
                      fill="url(#paint1_linear_aster)"></path>
                    <path
                      d="M25.9205 14.5427C25.9804 14.0364 26.0112 13.5212 26.0112 12.9988C26.0112 6.17827 20.7574 0.58442 14.0747 0.0408891L12.2518 8.4585C11.5743 11.5874 13.9591 14.5427 17.1615 14.5427H25.9205Z"
                      fill="url(#paint2_linear_aster)"></path>
                    <path
                      d="M12.7528 0C5.6867 0.134645 0 5.90284 0 12.9988C0 13.5212 0.0308205 14.0364 0.0907436 14.5427H3.04647C6.87298 14.5427 10.1814 11.8748 10.991 8.13616L12.7528 0Z"
                      fill="url(#paint3_linear_aster)"></path>
                    <path
                      d="M53.0931 5.67583C53.7446 5.67586 54.349 5.74373 54.9056 5.87895C55.4756 6.0142 56.0048 6.20392 56.4934 6.44731C56.9822 6.69077 57.4309 6.98125 57.8382 7.31938L56.9827 8.80083C56.8198 8.61147 56.6019 8.4288 56.3304 8.25298C56.0589 8.07719 55.7537 7.92141 55.4143 7.78618C55.075 7.63742 54.7015 7.5226 54.2942 7.44145C53.9006 7.34679 53.4864 7.29889 53.052 7.29887C51.9387 7.29887 51.1167 7.5085 50.5872 7.92778C50.0578 8.34703 49.7933 8.92216 49.7933 9.65239C49.7933 10.1664 49.9289 10.5726 50.2005 10.8702C50.4719 11.1676 50.8863 11.4103 51.4427 11.5997C52.0129 11.789 52.7329 11.9856 53.6018 12.1885C54.6064 12.4049 55.4752 12.6685 56.2083 12.9795C56.9414 13.2906 57.505 13.7099 57.8987 14.2374C58.2924 14.7513 58.4895 15.4412 58.4895 16.3067C58.4895 16.9964 58.3538 17.5984 58.0823 18.1124C57.8244 18.6127 57.4577 19.0321 56.9827 19.3702C56.5076 19.6947 55.9507 19.9383 55.3128 20.1006C54.6748 20.2494 53.9822 20.3242 53.2356 20.3243C52.5025 20.3243 51.7824 20.2494 51.0765 20.1006C50.384 19.9383 49.7254 19.7087 49.1009 19.4112C48.4764 19.1136 47.8929 18.7413 47.3499 18.295L48.2249 16.753C48.4421 16.9829 48.7205 17.2135 49.0599 17.4434C49.4128 17.6598 49.807 17.8624 50.2415 18.0518C50.6895 18.2411 51.1719 18.3969 51.6878 18.5186C52.2035 18.6267 52.7328 18.6807 53.2757 18.6807C54.3075 18.6807 55.1088 18.498 55.679 18.1329C56.2492 17.7542 56.5345 17.2061 56.5345 16.4893C56.5344 15.9484 56.371 15.516 56.0452 15.1915C55.7329 14.8668 55.2645 14.5963 54.6399 14.3799C54.0155 14.1636 53.2555 13.9469 52.3597 13.7305C51.3821 13.4871 50.5601 13.2235 49.8948 12.9395C49.2297 12.642 48.7274 12.2556 48.388 11.7823C48.0623 11.309 47.8997 10.6937 47.8997 9.93657C47.8997 9.01689 48.1236 8.23924 48.5716 7.60356C49.0196 6.96787 49.6376 6.48774 50.4251 6.16313C51.2125 5.83859 52.102 5.67583 53.0931 5.67583ZM46.3518 20.1817H44.3968L42.6858 15.962H36.6175L34.927 20.1817H32.972L38.8987 5.77739H40.4456L46.3518 20.1817ZM71.7347 7.40044H66.7454V20.1817H64.9124V7.40044H59.9222V5.77739H71.7347V7.40044ZM83.8567 7.40044H76.0569V12.0665H82.8391V13.5879H76.0569V18.5586H84.0403V20.1817H74.2239V5.77739H83.8567V7.40044ZM93.1526 5.77739C93.7907 5.77739 94.3751 5.91313 94.9046 6.18364C95.434 6.44061 95.8957 6.79205 96.2893 7.23833C96.6829 7.67098 96.9882 8.1645 97.2054 8.7188C97.4226 9.2598 97.5315 9.8148 97.5315 10.3829C97.5315 11.0456 97.4027 11.6745 97.1448 12.2696C96.9004 12.8647 96.5469 13.3718 96.0852 13.7911C95.6372 14.2103 95.1082 14.5018 94.4974 14.6641L98.0003 20.1817H95.9231L92.6233 15.0088H88.7952V20.1817H86.9622V5.77739H93.1526ZM36.9837 14.542H42.2786L39.6722 7.88774L36.9837 14.542ZM88.7952 13.3858H93.1731C93.6755 13.3858 94.1103 13.25 94.4768 12.9795C94.8569 12.6956 95.1492 12.324 95.3528 11.8643C95.57 11.4044 95.678 10.9103 95.678 10.3829C95.678 9.84185 95.5562 9.34775 95.3118 8.90141C95.0675 8.44182 94.7483 8.07711 94.3548 7.80669C93.961 7.53618 93.5263 7.40044 93.0511 7.40044H88.7952V13.3858Z"
                      fill="white"></path>
                    <defs>
                      <linearGradient
                        id="paint0_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint1_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint2_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                      <linearGradient
                        id="paint3_linear_aster"
                        x1="15.3411"
                        y1="3.3663e-07"
                        x2="10.2066"
                        y2="26.035"
                        gradientUnits="userSpaceOnUse"
                      >
                        <stop stop-color="#F4D5B1"></stop>
                        <stop offset="1" stop-color="#FFD29F"></stop>
                      </linearGradient>
                    </defs>
                  </svg>
                </div>
                <!-- 추천 박스 -->
                <div
                  class="py-0.5 px-2 md:py-1 md:px-2.5 rounded-lg whitespace-nowrap bg-aden-primary/60 flex gap-1 items-center text-[9px] md:text-[10px]"
                >
                  <svg
                    class="w-2 h-2 md:w-2.5 md:h-2.5"
                    viewBox="0 0 10 11"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.54404 0.851523C5.44367 0.636703 5.23157 0.5 4.99864 0.5C4.76571 0.5 4.55551 0.636703 4.45324 0.851523L3.23557 3.43522L0.516165 3.84923C0.288917 3.88439 0.0995432 4.04843 0.029475 4.27302C-0.0405933 4.4976 0.0162188 4.74562 0.17908 4.91162L2.15235 6.92506L1.68649 9.77045C1.64862 10.0048 1.74331 10.243 1.93079 10.3817C2.11827 10.5204 2.36635 10.5379 2.57087 10.4266L5.00053 9.08888L7.4302 10.4266C7.63472 10.5379 7.8828 10.5223 8.07028 10.3817C8.25776 10.2411 8.35245 10.0048 8.31457 9.77045L7.84682 6.92506L9.82009 4.91162C9.98295 4.74562 10.0417 4.4976 9.9697 4.27302C9.89774 4.04843 9.71026 3.88439 9.48301 3.84923L6.76171 3.43522L5.54404 0.851523Z"
                      fill="white"></path>
                  </svg>
                  <span data-lang-ko="추천" data-lang-en="Recommended">추천</span>
                </div>
              </div>
            </button>
          )}

          <!-- Orderly Option -->
          <a
            href="/perp/PERP_BTC_USDC"
            target="_blank"
            rel="noopener noreferrer"
            id="orderly-option"
            class="border border-aden-border p-4 md:p-6 rounded-2xl block transition-all hover:border-aden-primary/60 hover:bg-aden-primary/5 group relative sm:flex-1"
          >
            <div class="flex flex-col items-center gap-3 md:gap-4">
              <!-- Orderly Logo -->
              <div
                class="h-10 md:h-12 flex items-center justify-center gap-1 md:gap-2"
              >
                <img
                  src="/orderly-logo.svg"
                  alt="Orderly"
                  class="h-6 md:h-8 w-auto"
                />
                <svg
                  class="w-[72px] md:w-[90px] h-auto"
                  viewBox="0 0 90 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M80.2812 5.87012V12.6836C80.2813 13.2663 80.3994 13.7746 80.6133 14.209C80.8272 14.6222 81.1375 14.9508 81.5439 15.2051C81.9718 15.4381 82.4744 15.5547 83.084 15.5547C83.6937 15.5547 84.2286 15.4382 84.6992 15.2051C85.1911 14.9508 85.5548 14.612 85.8115 14.1777C86.0575 13.7328 86.1865 13.2345 86.1865 12.6836V5.88086H89.5449V17.4092C89.5449 18.6594 89.2453 19.7824 88.6357 20.7783C88.0474 21.7956 87.2339 22.5907 86.1963 23.1523C85.1802 23.7138 84.0783 24 82.7734 24C81.4685 24 80.3022 23.6816 79.2754 23.0459C78.2487 22.4102 77.4467 21.5732 76.8799 20.5244L79.9072 18.9248C80.2174 19.571 80.6028 20.0691 81.0947 20.3975C81.5865 20.7469 81.8219 20.917 82.7842 20.917C83.7468 20.917 84.5389 20.5884 85.1807 19.9209C85.8332 19.2745 86.165 18.4263 86.165 17.3984V16.6992C85.812 17.1654 85.3728 17.5571 84.8594 17.875C84.0571 18.3518 83.1586 18.5957 82.0889 18.5957C81.0192 18.5957 80.0884 18.363 79.2969 17.918C78.5267 17.4623 77.9279 16.8367 77.5107 16.042C77.0936 15.2473 76.8799 14.3253 76.8799 13.2764V5.87012H80.2812ZM5.55176 11.9307C5.66936 11.9307 5.78742 11.9945 5.85156 12.0898C6.67518 13.2552 8.03314 14.0184 9.58398 14.0186C11.135 14.0186 12.4937 13.2554 13.3174 12.0898C13.3923 11.9945 13.4995 11.9307 13.6172 11.9307H18.6123C18.7299 11.9307 18.816 12.0474 18.7842 12.1533C17.6289 16.1163 13.9376 19.0088 9.57324 19.0088C5.20902 19.0086 1.51853 16.1162 0.363281 12.1533C0.331414 12.037 0.41683 11.9309 0.53418 11.9307H5.55176ZM52.4795 5.62598C53.9129 5.62598 55.1756 5.97575 56.2881 6.69629L56.3096 6.68555C57.4113 7.39548 58.2239 8.3606 58.748 9.5791C59.2827 10.7763 59.4325 12.0899 59.1973 13.499H49.1523C49.2165 13.7639 49.313 14.0188 49.4414 14.252C49.7622 14.8345 50.2116 15.3005 50.7783 15.6289C51.3452 15.9574 52.0089 16.1269 52.7148 16.127C53.4208 16.127 54.0522 15.9683 54.6084 15.6504C55.186 15.3219 55.6244 14.8662 55.9453 14.3047L58.7373 15.5547C58.1383 16.6037 57.3041 17.4414 56.2451 18.0771C55.1862 18.6916 53.9133 18.9989 52.6191 18.999C51.3249 18.999 50.1478 18.7126 49.0889 18.1299C48.03 17.5472 47.1849 16.7524 46.5645 15.7354C45.9547 14.6969 45.6553 13.5416 45.6553 12.3125C45.6553 11.0835 45.944 9.96052 46.5322 8.94336C47.1419 7.91562 47.9654 7.11012 49.0029 6.52734C50.0405 5.92338 51.0461 5.62599 52.4795 5.62598ZM43.665 18.7441H40.2637V17.2188C39.9535 17.5578 39.5999 17.8649 39.2041 18.1191C38.3164 18.7017 37.3005 18.9882 36.1348 18.9883C34.9688 18.9883 33.9091 18.7019 32.957 18.1191C31.9945 17.5364 31.2456 16.7417 30.6895 15.7246C30.1546 14.6862 29.8877 13.5309 29.8877 12.3018C29.8877 11.0727 30.1547 9.9389 30.6895 8.91113C31.2456 7.88341 31.9944 7.07789 32.957 6.49512C33.9198 5.91233 34.9795 5.62598 36.1348 5.62598C37.2898 5.62602 38.3164 5.91253 39.2041 6.49512C39.5998 6.74939 39.9535 7.05648 40.2637 7.39551V0.286133H43.665V18.7549ZM74.5371 18.7549H71.1348V0.286133H74.5371V18.7549ZM27.6094 5.74316C28.3153 5.57373 29.0423 5.60551 29.7803 5.81738V8.98535C28.8925 8.67811 28.069 8.59372 27.3096 8.73145C26.5715 8.86919 25.9825 9.18655 25.5439 9.68457C25.1269 10.1825 24.9131 10.7973 24.9131 11.5283V18.7441H21.5117V5.87012H24.9131V7.54395C25.1377 7.23669 25.4055 6.96146 25.6943 6.71777C26.2613 6.23038 26.9034 5.9127 27.6094 5.74316ZM67.3809 5.74316C68.0867 5.5737 68.8138 5.60553 69.5518 5.81738V8.98535C68.664 8.67814 67.8405 8.59371 67.0811 8.73145C66.3431 8.86919 65.755 9.18669 65.3164 9.68457C64.8992 10.1826 64.6846 10.7972 64.6846 11.5283V18.7441H61.2832V5.87012H64.6846V7.54395C64.9092 7.23667 65.177 6.96148 65.4658 6.71777C66.0328 6.23035 66.6749 5.9127 67.3809 5.74316ZM36.8516 8.7207C36.2204 8.7207 35.6423 8.87938 35.1182 9.19727C34.6048 9.49396 34.1872 9.92868 33.8877 10.4902C33.5883 11.0411 33.4385 11.6451 33.4385 12.3125C33.4385 12.98 33.5882 13.5947 33.8877 14.1562C34.1872 14.6967 34.6047 15.1313 35.1182 15.4492C35.6316 15.7671 36.2205 15.9258 36.8516 15.9258C37.4825 15.9257 38.0707 15.7564 38.584 15.4492C39.0974 15.1419 39.5149 14.7072 39.8145 14.1562C40.114 13.5947 40.2637 12.98 40.2637 12.3125C40.2637 11.6451 40.1139 11.0412 39.8145 10.4902C39.5149 9.92864 39.1081 9.49396 38.584 9.19727C38.0706 8.87947 37.4825 8.72077 36.8516 8.7207ZM52.4795 8.51855C51.8271 8.51857 51.2281 8.68827 50.6934 9.0166L50.6826 9.00684C50.1478 9.32472 49.7194 9.77984 49.4199 10.3838C49.3237 10.5638 49.2487 10.7439 49.1846 10.9346H55.7529C55.6781 10.6805 55.5706 10.4478 55.4424 10.2148C55.1429 9.6851 54.737 9.26055 54.2129 8.96387C53.7101 8.66718 53.132 8.51855 52.4795 8.51855ZM18.8799 7.63965C18.944 7.63965 18.998 7.68173 19.0088 7.74512C19.1158 8.31731 19.1689 9.07044 19.1689 9.50488C19.1689 9.93919 19.1365 10.374 19.083 10.7871C19.0721 10.8609 19.0191 10.9033 18.9551 10.9033H14.0986C14.0131 10.9033 13.9483 10.8182 13.9697 10.7334C14.0874 10.3414 14.1416 10.108 14.1416 9.51465C14.1415 8.92142 14.0342 8.34916 13.8203 7.83008C13.7884 7.73479 13.853 7.63965 13.9492 7.63965H18.8799ZM5.23047 7.62891C5.32657 7.62891 5.39108 7.73464 5.35938 7.81934C5.15613 8.33855 5.03809 9.08104 5.03809 9.50488C5.03813 9.92843 5.10212 10.3309 5.20898 10.7227H5.19824C5.21962 10.8074 5.15581 10.8925 5.07031 10.8926H0.213867C0.149802 10.8926 0.0851944 10.8398 0.0849609 10.7764C0.0314832 10.3526 9.10443e-06 10.0979 0 9.49414C0 8.89031 0.0532383 8.30741 0.160156 7.73535C0.170853 7.67177 0.22488 7.62891 0.289062 7.62891H5.23047ZM16.7402 3.37988C16.8471 3.37988 16.9436 3.43281 17.0078 3.50684C17.7031 4.35453 18.2486 5.31915 18.623 6.36816C18.6658 6.47412 18.5806 6.59082 18.4629 6.59082H13.2217C13.1254 6.59082 13.0183 6.54781 12.9541 6.47363C12.1197 5.56243 10.9211 4.99023 9.58398 4.99023C8.24711 4.99034 7.04913 5.56258 6.21484 6.47363C6.15066 6.54781 6.05424 6.59082 5.94727 6.59082H0.706055C0.588484 6.59082 0.50238 6.47406 0.544922 6.36816C0.919308 5.31918 1.46488 4.35451 2.16016 3.50684C2.22428 3.42214 2.32088 3.37996 2.42773 3.37988H16.7402ZM86.1865 5.88086H86.1436L86.1865 5.87012V5.88086ZM9.59473 0C11.8839 0 13.9806 0.79466 15.6279 2.11914C15.7241 2.19324 15.6604 2.34151 15.543 2.3418H3.64746C3.51926 2.34178 3.4657 2.19339 3.56152 2.11914C5.20879 0.794685 7.30568 7.58376e-05 9.59473 0Z"
                    fill="white"></path>
                </svg>
              </div>
              <!-- 추천 박스 -->
              <div
                class="py-0.5 px-2 md:py-1 md:px-2.5 rounded-lg whitespace-nowrap bg-aden-primary/60 flex gap-1 items-center text-[9px] md:text-[10px]"
              >
                <svg
                  class="w-2 h-2 md:w-2.5 md:h-2.5"
                  viewBox="0 0 10 11"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.54404 0.851523C5.44367 0.636703 5.23157 0.5 4.99864 0.5C4.76571 0.5 4.55551 0.636703 4.45324 0.851523L3.23557 3.43522L0.516165 3.84923C0.288917 3.88439 0.0995432 4.04843 0.029475 4.27302C-0.0405933 4.4976 0.0162188 4.74562 0.17908 4.91162L2.15235 6.92506L1.68649 9.77045C1.64862 10.0048 1.74331 10.243 1.93079 10.3817C2.11827 10.5204 2.36635 10.5379 2.57087 10.4266L5.00053 9.08888L7.4302 10.4266C7.63472 10.5379 7.8828 10.5223 8.07028 10.3817C8.25776 10.2411 8.35245 10.0048 8.31457 9.77045L7.84682 6.92506L9.82009 4.91162C9.98295 4.74562 10.0417 4.4976 9.9697 4.27302C9.89774 4.04843 9.71026 3.88439 9.48301 3.84923L6.76171 3.43522L5.54404 0.851523Z"
                    fill="white"></path>
                </svg>
                <span data-lang-ko="추천" data-lang-en="Recommended">추천</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script is:inline>
  // 전역 스코프에 함수 정의
  window.openExchangeModal = function () {
    const modal = document.getElementById("exchange-modal");
    if (modal) {
      // 랜덤하게 순서 변경
      const container = document.getElementById("exchange-options");
      const asterOption = document.getElementById("aster-option");
      const orderlyOption = document.getElementById("orderly-option");

      if (container && asterOption && orderlyOption) {
        // 50% 확률로 순서 변경
        if (Math.random() < 0.5) {
          container.appendChild(orderlyOption);
          container.appendChild(asterOption);
        } else {
          container.appendChild(asterOption);
          container.appendChild(orderlyOption);
        }
      }

      modal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
  };

  window.closeExchangeModal = function () {
    const modal = document.getElementById("exchange-modal");
    if (modal) {
      modal.classList.add("hidden");
      document.body.style.overflow = "";
    }
  };

  window.showAsterComingSoon = function () {
    // Detect current language by checking if Korean elements are visible
    const koreanElement = document.querySelector('[data-lang-ko]');
    const isKorean = koreanElement && koreanElement.textContent === koreanElement.getAttribute('data-lang-ko');
    
    // Show coming soon message in appropriate language
    if (isKorean) {
      alert("Aster가 곧 출시됩니다! 잠시 후 다시 확인해주세요.");
    } else {
      alert("Aster is coming soon! Please check back later.");
    }
  };

  // DOM이 로드된 후에 이벤트 리스너 설정
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("exchange-modal");
    const backdrop = modal?.querySelector("[data-modal-backdrop]");
    const closeBtn = modal?.querySelector("[data-modal-close]");

    // Close on backdrop click
    backdrop?.addEventListener("click", window.closeExchangeModal);

    // Close on close button click
    closeBtn?.addEventListener("click", window.closeExchangeModal);

    // Close on ESC key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal && !modal.classList.contains("hidden")) {
        window.closeExchangeModal();
      }
    });

    // 버튼 찾아서 이벤트 리스너 추가
    const tradingButtons = document.querySelectorAll("[data-trading-button]");
    tradingButtons.forEach((button) => {
      button.addEventListener("click", (e) => {
        e.preventDefault();
        window.openExchangeModal();
      });
    });
  });
</script>
